"use strict";var e=require("react"),t=require("react-router-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e),r=function(e,t){return void 0===e&&(e=document.documentElement),void 0===t&&(t=0),window.requestAnimationFrame((function(){e.scrollTo(0,t)}))};function i(t){var n=t.history,o=t.visitedUrl,i=t.node,u=function(){var e=n.location.key,t=o.get(e||"init-enter");void 0!==t&&r(i,t)};return e.useEffect((function(){return window.addEventListener("popstate",u),function(){window.removeEventListener("popstate",u)}}),[]),null}var u=t.withRouter(e.memo(i,(function(e,t){var n=e.location,o=e.visitedUrl,i=e.history,u=t.location,a=t.node,c=n.key||"init-enter",d=(u.pathname!==n.pathname||u.search!==n.search)&&""===u.hash,s=function(e){return void 0===e&&(e=document.documentElement),e?e.scrollTop:window.pageYOffset}(a);return d&&("POP"!==i.action?(r(a,0),o.set(c,s)):o.set(c,s)),!1})));module.exports=function(t){var n=t.node,r=e.useRef(new Map);return o.default.createElement(u,{node:n,visitedUrl:r.current})};
